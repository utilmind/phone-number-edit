!function(){"use strict";var t=function(t,e){var r,n=this.$field=$(t),a=function(t,e){var r=t.replace(/[^\d]/g,"");return e?r.replace(/^0+/,""):r},X=n.data("pattern")||"(XXX) XXX-XXXX",i=n.data("pattern-alt"),s=!1,u=X,l=!1,h="0"===a(X).charAt(0),c=n.data("min-pattern-length")||2,o=X.replace(/[^X]/g,"").length,f=n.prop("pattern")||"[\\d\\s\\(\\)\\[\\]\\-–—\\.,/]",p=new RegExp(f),g=function(){var t,e,r,o,f,p=n.val().trim(),g="";if("+"===p.charAt(0))if(o=!1,r=!1,f=!1,"1"===(t=a(p,1)).charAt(0))e="(XXX) XXX-XXXX",t=t.substr(1),g="+1 ";else if("380"===t.substr(0,3))e="(XX) XXX-XX-XX",t=t.substr(3),g="+380 ";else if("32"===t.substr(0,2))e="XX XX XX XX",r="X XXX XX XX",o=new RegExp("^(2|3|4|9)"),t=t.substr(2),g="+32 ";else{if("61"!==t.substr(0,2))return p;e="XXX XXX XXX",t=t.substr(2),g="+61 "}else t=a(p),e=X,r=i,o=s,f=h;var v=t.length;if(c<v){t=t.replace(/^0+/,"");var d=o&&o.test(t);d&&(e=r),f&&t.length!==v&&(e=d?l:u),n.val(g+function(t,e,r,n,a){var X=t.length,i=e.length,s=n?X-1:0,u=n?i-1:0,l="";if(c>X)return t;if(0<i)for(r||(r="X");n?0<u&&0<s:i>=u&&X>=s;){var h=e.charAt(u);if(u+=n?-1:1,h===r){var o=t.charAt(s);l=n?o+l:l+o,s+=n?-1:1,(n?0===u||0===s:i<u-1||X<s-1)&&(h=e.charAt(u))!==r&&new RegExp("[\\(\\){}\\[\\]<>'\"’`“”«»]").test(h)&&(l=n?h+l:l+h)}else l=n?h+l:l+h}return a||(l=n?t.substr(1)+" "+l:l+" "+t.substr(t)),l.trim()}(t,e))}},v=function(t){return"0"===a(t).charAt(0)&&(t=t.replace("0","")),t};if(this.options=$.extend({},e),i){var d=i.split(";")[0].split(":");d[0]&&d[1]&&(s=new RegExp("^("+d[0].replace(/,/g,"|")+")"),i=v(l=d[1]))}X=v(X),n.on("keypress",function(t){var e=this.value.trim(),r=t.target.selectionStart,n=t.target.selectionEnd,X=t.keyCode,i=String.fromCharCode(X);e&&0===r&&e.length===n&&(e=""),("+"===i&&""!==e&&(0!==r||"+"===e.charAt(0))||"+"!==i&&!p.test(i)||""===e&&("-"===i||"0"===i&&!h))&&t.preventDefault(),o&&o<=a(e,1).length&&r===n&&"+"!==e.charAt(0)&&32!==X&&8!==X&&46!==X&&t.preventDefault()}).on("keyup",function(t){var e=this.value,n=a(e.trim());8===t.keyCode||""===n||r&&a(r)===n||t.target.selectionStart!==e.length||(g(),r=this.value.trim())}).on("blur",function(t){g()})};$.fn.phonePattern=function(e){return this.each(function(){$.data(this,"phonePattern")||$.data(this,"phonePattern",new t(this,e))})}}(),doInit(function(){if("undefined"==typeof $)return 1;$('input[type="tel"][data-pattern]').phonePattern()},1);